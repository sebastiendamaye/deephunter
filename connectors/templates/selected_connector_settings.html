<div class="alert alert-info d-flex flex-row">
    <div class="padright20"><i class="fas fa-fw fa-info-circle mr-3 mt-1"></i></div>
    <div class="notification-message">
        {{ connector.description }}
    </div>
</div>

<div class="container-switch-toggle">
    <span class="switch-status-label">Enable/disable connector: </span>
    <label class="switch">
      <input id="connector-enabled-{{ connector.id }}"
        type="checkbox"
        hx-get="/connectors/toggle-connector/{{ connector.id }}/"
        {% if connector.enabled %}checked{% endif %}>
      <span class="slider round"></span>
    </label>
</div>

<form method="post" id="connector-form-{{ connector.id }}" action="/connectors/selected-connector-settings/{{ connector.pk }}/" class="connector-form {% if connector.enabled %}visible{% else %}hidden{% endif %}">

    {% if formset.0.fields|length == 0 %}
        <div class="alert alert-info d-flex flex-row">
            <div class="padright20"><i class="fas fa-fw fa-info-circle mr-3 mt-1"></i></div>
            <div class="notification-message">
                There are no settings for this connector.
            </div>
        </div>
    {% else %}

        {% csrf_token %}
        {{ formset.management_form }}
        <table>
            <tr>
                <th>Key</th>
                <th>Value</th>
            </tr>
            {% for conf_form in formset %}
                <tr>
                {{ conf_form.id }}
                {% for field in conf_form.visible_fields %}
                    <td>
                    {{ field }}
                    </td>
                {% endfor %}
                </tr>
            {% endfor %}
        </table>
        <div id="connector-conf-submit"><button type="submit" class="button" name="save_changes" value="1">Save Changes</button></div>

    {% endif %}

</form>
<script src="/static/js/selected_connector_settings.js"></script>
