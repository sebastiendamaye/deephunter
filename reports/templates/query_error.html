{% extends "base.html" %}

{% block style %}
	<link rel="stylesheet" href="/static/css/list_analytics.css" />
    <script src="/static/fontawesome/all.min.js"></script>
{% endblock %}

{% block body %}
<div class="padaround">
	<h1>Threat Hunting Analytics with errors</h1>

	<div class="alert alert-info d-flex flex-row">
		<div class="padright20"><i class="fas fa-fw fa-info-circle mr-3 mt-1"></i></div>
		<div>
			<div class="notification-message">
				<ul>
					<li>This report shows the list of Threat Hunting Analytics that have failed due to errors.</li>
					<li>Notice that updating the "query" field of threat hunting analytics will automatically remove the error flag and message. These threat hunting analytics will no longer appear in this report.</li>
				</ul>
			</div>
		</div>
	</div>

	<form id="filter-form">
		<label>
			<input type="checkbox" id="include-info" name="include_info" 
				hx-get="{% url 'query_error_table' %}" 
				hx-target="#message-table" 
				hx-include="#filter-form" 
				hx-trigger="load, change">
			Include INFO messages
		</label>
	</form>

	<div id="message-table">
		{% include 'partials/query_error_table.html' %}
	</div>
</div>
{% endblock %}